<template>    <Head>        <title>{{ course.name }} - Campus</title>    </Head>    <div class="course-page bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen p-6">        <!-- Header Section -->        <header class="text-center mb-12 space-y-2">            <div class="inline-flex items-center bg-indigo-100 text-indigo-600 px-4 py-2 rounded-full mb-4">                <span class="text-sm font-medium">{{ course.code }}</span>            </div>            <h1 class="text-4xl md:text-5xl font-bold text-gray-800 leading-tight">                {{ course.name }}            </h1>            <p class="text-gray-500 text-lg">Course Progress: <span                class="font-semibold text-indigo-600">25% Complete</span></p>        </header>        <!-- Course Navigation Tabs -->        <div class="mb-8">            <nav class="flex justify-center space-x-2">                <a                    v-for="tab in tabs"                    :key="tab.id"                    :href="tab.url"                    :class="[                        'px-6 py-3 rounded-xl text-sm font-medium transition-all duration-300 flex items-center',                        currentTab === tab.id                            ? 'bg-indigo-600 text-white shadow-lg'                            : 'bg-white text-gray-500 hover:bg-gray-50 hover:text-gray-700 shadow-sm'                    ]"                    @click.prevent="switchTab(tab.id)"                >                    <i :class="tab.icon" class="mr-2 text-sm"></i>                    {{ tab.name }}                </a>            </nav>        </div>        <!-- Announcements Section -->        <section v-if="currentTab === 'announcements'" class="max-w-5xl mx-auto">            <h2 class="text-xl font-semibold text-gray-800 mb-4">Course Announcements</h2>            <div class="bg-white rounded-lg shadow-sm">                <!-- Announcement List -->                <div v-if="announcements.length" class="divide-y divide-gray-100">                    <div                        v-for="announcement in announcements"                        :key="announcement.id"                        class="p-4 hover:bg-gray-50 transition-colors duration-200 cursor-pointer relative"                        @click="visitPage(route('campus.course.announcements.show',{ courseId: course.id,announcementId: announcement.id}))"                    >                        <!-- Read/Unread Indicator -->                        <div                            v-if="!announcement.isRead"                            class="absolute top-4 right-4 w-2 h-2 bg-indigo-500 rounded-full"                        ></div>                        <!-- Announcement Header -->                        <div class="flex items-center justify-between">                            <h3                                :class="[                                    'text-base font-medium',                                    announcement.isRead ? 'text-gray-600' : 'text-gray-800'                                ]"                            >                                {{ announcement.title }}                            </h3>                            <span class="text-xs text-gray-500">                                {{ formatDate(announcement.created_at) }}                            </span>                        </div>                        <!-- Announcement Description -->                        <p                            :class="[                                'text-sm mt-1 line-clamp-2',                                announcement.isRead ? 'text-gray-500' : 'text-gray-600'                            ]"                        >                            {{ announcement.description }}                        </p>                        <!-- Optional Footer -->                        <div class="mt-2 flex items-center space-x-3 text-xs text-gray-500">                            <div class="flex items-center space-x-1">                                <i class="fas fa-user-circle"></i>                                <span>{{ announcement.author.name || 'Admin' }}</span>                            </div>                            <div class="flex items-center space-x-1">                                <i class="fas fa-tag"></i>                                <span>{{ announcement.type || 'General' }}</span>                            </div>                        </div>                    </div>                </div>                <!-- Empty State -->                <div v-else class="text-center py-6">                    <div class="inline-flex items-center justify-center w-10 h-10 bg-gray-100 rounded-full mb-3">                        <i class="fas fa-bullhorn text-lg text-gray-400"></i>                    </div>                    <p class="text-gray-500 text-sm">No announcements available.</p>                </div>            </div>        </section>        <!-- Resources Section -->        <section v-if="currentTab === 'resources'" class="max-w-5xl mx-auto">            <h2 class="text-2xl font-bold text-gray-800 mb-6">Course Resources</h2>            <div class="bg-white rounded-2xl shadow-lg p-6">                <!-- Resources List -->                <div v-if="resources.length" class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">                    <div                        v-for="resource in resources"                        :key="resource.id"                        class="p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition-colors duration-300"                    >                        <div class="flex items-center space-x-4">                            <!-- Resource Icon -->                            <div class="w-10 h-10 bg-indigo-50 rounded-lg flex items-center justify-center">                                <i :class="getResourceIcon(resource.type)" class="text-indigo-500"></i>                            </div>                            <!-- Resource Details -->                            <div>                                <h3 class="text-lg font-semibold text-gray-800">{{ resource.title }}</h3>                                <p class="text-sm text-gray-500">{{ resource.type }}</p>                            </div>                        </div>                        <!-- Resource Actions -->                        <div class="mt-4 flex items-center justify-between">                            <a                                :href="resource.url"                                target="_blank"                                class="text-sm text-indigo-500 hover:underline"                            >                                View/Download                            </a>                            <span class="text-xs text-gray-500">{{ resource.size }}</span>                        </div>                    </div>                </div>                <!-- Empty State -->                <div v-else class="text-center py-8">                    <i class="fas fa-folder-open text-4xl text-gray-400 mb-4"></i>                    <p class="text-gray-500">No resources available.</p>                </div>            </div>        </section>        <!-- Syllabus Section -->        <section v-if="currentTab === 'syllabus'" class="max-w-5xl mx-auto">            <h2 class="text-2xl font-bold text-gray-800 mb-6">Course Syllabus</h2>            <div class="bg-white rounded-2xl shadow-lg p-6">                <!-- Syllabus List -->                <div v-if="syllabus.length" class="space-y-4">                    <div                        v-for="item in syllabus"                        :key="item.id"                        class="p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition-colors duration-300"                    >                        <div class="flex items-center justify-between">                            <h3 class="text-lg font-semibold text-gray-800">{{ item.title }}</h3>                            <span class="text-sm text-gray-500">                                {{ formatDate(item.date) }}                            </span>                        </div>                        <p class="text-sm text-gray-600 mt-2">                            {{ item.description }}                        </p>                    </div>                </div>                <!-- Empty State -->                <div v-else class="text-center py-8">                    <i class="fas fa-calendar-alt text-4xl text-gray-400 mb-4"></i>                    <p class="text-gray-500">No syllabus available.</p>                </div>            </div>        </section>        <!-- Weekly Timeline Section -->        <section v-if="currentTab === 'timeline'" class="max-w-5xl mx-auto">            <div class="flex items-center justify-between mb-6">                <h2 class="text-2xl font-bold text-gray-800">Course Timeline</h2>                <div class="text-sm text-gray-500">Total Weeks: {{ localWeeks.length }}</div>            </div>            <!-- Week Cards -->            <div class="space-y-4">                <div                    v-for="(week, index) in localWeeks"                    :key="week.id"                    class="group relative bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300"                >                    <!-- Progress Bar -->                    <div class="absolute top-0 left-0 h-1 bg-indigo-100 w-full rounded-t-2xl">                        <div class="h-full bg-indigo-500 w-1/4 rounded-tl-2xl transition-all duration-500"></div>                    </div>                    <!-- Week Header -->                    <div                        class="p-6 cursor-pointer"                        @click="toggleWeek(index)"                    >                        <div class="flex items-start justify-between">                            <div class="flex-1">                                <div class="flex items-center space-x-3">                                    <div                                        class="w-8 h-8 bg-indigo-500 text-white rounded-lg flex items-center justify-center">                                        {{ week.week_number }}                                    </div>                                    <div>                                        <h3 class="text-xl font-semibold text-gray-800">{{ week.title }}</h3>                                        <div class="flex items-center space-x-2 mt-1">                                            <i class="fas fa-calendar-alt text-gray-400 text-sm"></i>                                            <span class="text-sm text-gray-500 font-mono">                                                {{ formatDate(week.start_date) }} â€“ {{ formatDate(week.end_date) }}                                            </span>                                        </div>                                    </div>                                </div>                            </div>                            <i                                :class="[                                    'fas text-gray-400 transform transition-transform duration-300',                                    week.isOpen ? 'fa-chevron-up rotate-180' : 'fa-chevron-down'                                ]"                            ></i>                        </div>                    </div>                    <!-- Week Content -->                    <div v-show="week.isOpen" class="px-6 pb-6 pt-4 border-t border-gray-100">                        <!-- Content Grid -->                        <div class="grid md:grid-cols-3 gap-4">                            <!-- Learning Guide Card -->                            <div                                class="feature-card bg-gradient-to-br from-blue-50 to-blue-100 p-5 rounded-xl hover:transform hover:-translate-y-1 transition-all duration-300 cursor-pointer"                                @click="visitPage(route('campus.courses.weeks.guides.weekGuide', { weekId: week.id, courseId: course.id }))"                            >                                <div class="flex items-center justify-between mb-3">                                    <h4 class="font-semibold text-blue-600">Learning Guide</h4>                                    <i class="fas fa-book-open text-blue-400"></i>                                </div>                                <p class="text-sm text-blue-700 opacity-80">Explore study materials and resources</p>                                <div class="mt-4 flex items-center space-x-2">                                    <div class="text-xs font-medium text-blue-600 bg-blue-100 px-2 py-1 rounded">                                        {{ week.materials?.length || 0 }} Resources                                    </div>                                </div>                            </div>                            <!-- Assignments Card -->                            <div                                class="feature-card bg-gradient-to-br from-purple-50 to-purple-100 p-5 rounded-xl hover:transform hover:-translate-y-1 transition-all duration-300 cursor-pointer"                                @click="visitPage(route('campus.courses.weeks.assignments.index', { weekId: week.id, courseId: course.id }))"                            >                                <div class="flex items-center justify-between mb-3">                                    <h4 class="font-semibold text-purple-600">Assignments</h4>                                    <i class="fas fa-tasks text-purple-400"></i>                                </div>                                <p class="text-sm text-purple-700 opacity-80">Active until {{                                        formatDate(week.end_date)                                    }}</p>                                <div class="mt-4 flex items-center space-x-2">                                    <div class="text-xs font-medium text-purple-600 bg-purple-100 px-2 py-1 rounded">                                        {{ week.assignments?.length || 0 }} Pending                                    </div>                                </div>                            </div>                            <!-- Quizzes Card -->                            <div                                class="feature-card bg-gradient-to-br from-green-50 to-green-100 p-5 rounded-xl hover:transform hover:-translate-y-1 transition-all duration-300 cursor-pointer"                                @click="visitPage(route('campus.courses.weeks.quiz.index', { weekId: week.id, courseId: course.id }))"                            >                                <div class="flex items-center justify-between mb-3">                                    <h4 class="font-semibold text-green-600">Quizzes</h4>                                    <i class="fas fa-check-circle text-green-400"></i>                                </div>                                <p class="text-sm text-green-700 opacity-80">Test your knowledge</p>                                <div class="mt-4 flex items-center space-x-2">                                    <div class="text-xs font-medium text-green-600 bg-green-100 px-2 py-1 rounded">                                        {{ week.quizzes?.length || 0 }} Available                                    </div>                                </div>                            </div>                        </div>                        <!-- Latest Updates -->                        <div class="mt-6 pt-4 border-t border-gray-100">                            <h4 class="text-sm font-semibold text-gray-500 mb-3">Recent Updates</h4>                            <div class="grid gap-3">                                <div v-if="week.assignments?.length"                                     class="flex items-center space-x-3 p-3 hover:bg-gray-50 rounded-lg">                                    <div                                        class="w-8 h-8 bg-blue-100 text-blue-500 rounded-lg flex items-center justify-center">                                        <i class="fas fa-pen"></i>                                    </div>                                    <div>                                        <p class="text-sm font-medium text-gray-800">{{                                                week.assignments[0]?.title                                            }}</p>                                        <p class="text-xs text-gray-500">New assignment posted</p>                                    </div>                                </div>                            </div>                        </div>                    </div>                </div>            </div>        </section>    </div></template><script>import {route} from "ziggy-js";import Head from "@/Components/Campus/Header.vue";export default {    name: "CoursePageWithContent",    components: {        Head,    },    props: {        weeks: {            type: Array,            required: true,        },        course: {            type: Object,            required: true,        },        announcements: {            type: Array,            required: true,            default: () => [],        },        syllabus: {            type: Array,            required: true,            default: () => [],        },        resources: {            type: Array,            required: true,            default: () => [],        },    },    data() {        return {            currentTab: "announcements", // Default to Announcements tab            localWeeks: [], // Local state for weeks            tabs: [                {                    id: "announcements",                    name: "Announcements",                    icon: "fas fa-bullhorn",                    url: route("campus.course.announcements.index", {id: this.course.id}),                },                {                    id: "resources",                    name: "Resources",                    icon: "fas fa-folder-open",                    url: route("campus.resources", {id: this.course.id}),                },                {                    id: "syllabus",                    name: "Syllabus",                    icon: "fas fa-calendar-alt",                    url: route("campus.syllabus", {id: this.course.id}),                },                {                    id: "timeline",                    name: "Timeline",                    icon: "fas fa-compass",                    url: route("campus.courses.weeks.guides.index", {                        courseId: this.course.id,                        weekId: this.course.id,                    }),                },            ],        };    },    watch: {        weeks: {            immediate: true,            deep: true,            handler(newWeeks) {                this.localWeeks = newWeeks.map(week => ({                    ...week,                    isOpen: week.isOpen || false                }));            }        }    },    methods: {        route,        switchTab(tabId) {            this.currentTab = tabId;        },        toggleWeek(index) {            this.localWeeks[index].isOpen = !this.localWeeks[index].isOpen;            this.$forceUpdate(); // Force refresh for smooth transitions        },        visitPage(url) {            this.$inertia.visit(url);        },        formatDate(dateString) {            if (!dateString) return 'Date not set';            const date = new Date(dateString);            if (isNaN(date)) return 'Invalid date';            return date.toLocaleDateString('en-US', {                month: 'short',                day: 'numeric',                year: 'numeric'            });        },        getResourceIcon(type) {            switch (type) {                case 'pdf':                    return 'fas fa-file-pdf';                case 'video':                    return 'fas fa-video';                case 'link':                    return 'fas fa-link';                default:                    return 'fas fa-file';            }        }    }};</script><style scoped></style>